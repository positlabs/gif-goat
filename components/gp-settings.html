<link rel='import' href='./gp-output-dir.html'>

<dom-module id='gp-settings'>

	<style>
		:host {
		}

		.content {
			display: inline-block;
			padding: 30px;
		}

		.content .item {
			position: relative;
			display: block;
			float: left;
			clear: both;
			margin-bottom: 20px;
		}

		input {
			border: none;
			border-radius: 2px;
			padding: 5px 10px;
			outline: none;
			border: 1px solid transparent;
			width: 80px;
		}
		input:focus {
			border: 1px solid var(--light-green);
		}
		input::-webkit-outer-spin-button,
		input::-webkit-inner-spin-button {
			/* display: none; <- Crashes Chrome on hover */
			-webkit-appearance: none;
			margin: 0; /* <-- Apparently some margin are still there even though it's hidden */
		}

/*		.or {
			font-weight: bold;
			padding: 0 10px;
		}*/

	</style>
	
	<template>
		<div class='content'>
			<gp-output-dir id='outputDir' class='item'></gp-output-dir>
			<div id='size' class='item'>
				<!-- <input id='scaleInput' type='number' placeholder='scale' min='0' title='scale'>
				<span class='or'>or</span> -->
				<input id='widthInput' type='number' placeholder='width' min='0' title='width'>
				<span class='fa fa-close'></span>
				<input id='heightInput' type='number' placeholder='height' min='0' title='height'>
			</div>
			<input id='fpsInput' class='item' type='number' placeholder='fps' min='1' max='300'>
		</div>
	</template>

	<script>
		
		Polymer({
			is: 'gp-settings',

			properties: {

			},

			ready: function(){
				
				this.$.fpsInput.addEventListener('change', this._validateFPSValue.bind(this));

			},

			_validateFPSValue: function(){
				var input = this.$.fpsInput;
				if(input.value > 300) input.value = 300;
				if(input.value <= 0) input.value = 1;
			},

			get: function(){

				return {
					fps: this.$.fpsInput.value,
					output: this.$.outputDir.path,
					// scale: this.$.scaleInput.value,
					width: this.$.widthInput.value,
					height: this.$.heightInput.value,
				};
			}

		});

	</script>

</dom-module>